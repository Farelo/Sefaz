<div class="modalFilho">
  <div class="header">

    <h2 translate="ALERTS.LOW_BATTERY_PACK" style="color: #354052; margin-bottom: 0px;"></h2>

    <div class="col-12 no-padding">
      <p class="alerta-badges">
        <span class="badge badge-secondary">{{ "ALERTS.CODE" | translate }}: {{ alerta.family.code }}</span>
        <span class="badge badge-secondary" style="margin-left:5px;">{{ "ALERTS.SERIAL" | translate }}: {{ alerta.serial }}</span>
        <span class="badge badge-secondary" style="margin-left:5px;">{{ "ALERTS.TAG" | translate }}: {{ alerta.tag.code }}</span>
      </p>

      <img 
        id="ver-no-mapa" 
        (click)="visualizeOnMap()" 
        ngbTooltip="{{ 'ALERTS.GO_TO_MAP' | translate }}"
        placement="left" 
        src="assets/images/distancia.png"
        height="25" style="float: right;">
    </div>

    <button type="button" class="close" aria-label="Close" (click)="activeAlerta.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="modalBody">

    <div class="row">
      <div class="col-12">
        <p class="titulo-modal">{{ "ALERTS.LAST_SIGNAL_CAP" | translate }}:</p>
        <br>
        <p> {{ alerta.last_device_data ?
                (alerta.last_device_data.message_date | date: 'dd/MM/yy HH:mm:ss' : '+00:00')
                : "Sem Registro" }} </p>
      </div>
    </div>

    <br>

    <div class="row">
      <div class="col-12 col-md-6">
        <p class="titulo-modal">{{ "ALERTS.LAST_SITE_CAP" | translate }}:</p>
        <br>
        <p> {{ alerta?.last_event_record?.control_point?.name || mConstants.NO_REGISTER }} </p>
        <p *ngIf="alerta?.last_event_record?.type == 'inbound'"> Tipo: {{ mConstants.INBOUND }} </p>
        <p *ngIf="alerta?.last_event_record?.type == 'outbound'"> Tipo: {{ mConstants.OUTBOUND }} </p>
      </div>

      <div class="col-12 col-md-6">
        <p class="titulo-modal">{{ "ALERTS.BATTERY_LEVEL_CAP" | translate }}:</p><br>
        <p style="font-weight: bold;"> {{ alerta?.last_device_data_battery?.battery?.percentage ?
          ((alerta.last_device_data_battery.battery.percentage | round) + '%') : mConstants.NO_REGISTER }} </p>
      </div>
    </div>

  </div>
</div>