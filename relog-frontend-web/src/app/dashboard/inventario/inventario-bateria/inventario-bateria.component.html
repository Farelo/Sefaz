<div class="base-bg">
  <h3 class="">Bateria Baixa</h3>

  <!-- Linha divisória -->
  <hr style="margin-top: 10px;">

  <!-- BATERIA -->
  <div class="row">
    <div class="col-sm-12 clear-padding">
      <div class="col-sm-4">
        <p>FAMÍLIA</p>
        <ng-select 
          [(ngModel)]="selectedFamily" 
          (change)="familySelected($event)" 
          [items]="listOfFamily"
          bindLabel="code" 
          placeholder="Selecione uma família">

          <ng-template ng-label-tmp let-item="item">
            {{item.code}}
          </ng-template>

          <ng-template ng-option-tmp let-item="item"> 
            <div> {{item.code}} </div>
          </ng-template>
        </ng-select>
      </div>
    </div>
  </div>

  <div class="row" style="margin-top: 20px;">
    <div class="col-sm-12">

      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr class="cabecalho">
              <th>Equipamento</th>
              <th>Serial</th>
              <!-- <th>Projeto</th> -->

              <th>Planta Atual</th>
              <th>Local</th>
              <th>Bateria</th>

              <th>Nível</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let packing of listOfBattery | paginate: {
                                                            id:'battery',
                                                            itemsPerPage: 10,
                                                            currentPage: listOfBatteryActualPage,
                                                            totalItems: listOfBattery.length}">
              <td>{{packing.family_code || '-'}}</td>
              <td>{{packing.serial || '-'}}</td>

              <td>{{packing.current_control_point_name || '-'}}</td>
              <td>{{packing.current_control_point_type}}</td>

              <td>{{packing.battery_percentage !== null ? ((packing.battery_percentage | round) + "%") : "Sem Registro"}}</td>

              <td>{{packing.battery_level}}</td>

            </tr>
          </tbody>
        </table>

        <div class="classVazio" *ngIf="!selectedFamily && listOfBattery.length < 1">
          Selecione um equipamento.
        </div>

        <div class="classVazio" *ngIf="selectedFamily && listOfBattery.length < 1">
          Não há resultado para este filtro.
        </div>
      </div>

      <br>

      <div class="has-text-centered">
        <pagination-controls class="my-pagination" id='battery' (pageChange)="listOfBatteryActualPage = $event"
          directionLinks="false" autoHide="true">
        </pagination-controls>
      </div>

    </div>
  </div>
</div>

<br>