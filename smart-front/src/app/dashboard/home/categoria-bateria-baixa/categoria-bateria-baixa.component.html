<section class="grupo-categoria">
  <h5>Bateria Baixa</h5>

  <div class="progress categoria-progress">
    <div class="progress-bar status-bateria" [style.width.%]="progressBateria[0]"></div>
    <div class="progress-bar progress-bar-empty" [style.width.%]="progressBateria[1]"></div>
  </div>

  <!-- Embalagens Bateria Baixa -->
  <section>
    <div class="linha-categoria bg-bateria">
      <div class="tick-categoria">

        <div class="quantidade-categoria status-bateria">
          {{ resume.quantityLowBattery }}
        </div>

        <span class="nome-categoria">Embalagens com Bateria Baixa</span>

        <button class="hamburger hamburger--squeeze" type="button" (click)="bateriaBaixaCollapsed = !bateriaBaixaCollapsed" [attr.aria-controls]="bateriaCollapsed"
          [ngClass]="{ 'is-active':bateriaBaixaCollapsed == true}">

          <span class="hamburger-box">
            <span class="hamburger-inner"></span>
          </span>
        </button>

      </div>
    </div>

    <!-- Conteúdo Embalagens Bateria Baixa -->
    <div [attr.id]="bateriaCollapsed" [ngbCollapse]="!bateriaBaixaCollapsed">
      <div class="">
        <div *ngIf="listBattery.meta.total_docs < 1">
          Não há embalagens nesta situação.
        </div>
        <div *ngIf="listBattery.meta.total_docs > 0" class="table-responsive meuInventario inner-table">
          <table class="table">
            <thead>
              <tr class="cabecalho">
                <th>Código</th>
                <th>Serial</th>
                <th>Tag</th>
                <th>Planta Atual</th>
                <th>Local</th>
                <th>Bateria</th>
              </tr>
            </thead>

            <tbody class="">
              <tr *ngFor="let item of listBattery.data | paginate: { 
                                                          id:'listBattery', 
                                                          itemsPerPage: 10, 
                                                          currentPage: listBattery.meta.page, 
                                                          totalItems: listBattery.meta.total_docs}">
                <td>{{ item.code || '-' }}</td>
                <td>{{ item.serial || '-' }}</td>
                <td>{{ item.code_tag || '-' }}</td>

                <td>{{ item.actual_plant?.plant ? item.actual_plant?.plant?.plant_name : "Sem Planta" }}</td>
                <td>{{ item.actual_plant | type }}</td>
                <td>{{ item.battery >= 0 ? (item.battery | round) : 'Sem Registro' }} %</td> 
              </tr>
            </tbody>
          </table>
        </div>
        <div class="has-text-centered">
          <pagination-controls class="my-pagination" id='listBattery' (pageChange)="listBattery.meta.page = $event; batteryChange()"
            directionLinks="false" autoHide="true">
          </pagination-controls>
        </div>
      </div>
    </div>
  </section>

</section>