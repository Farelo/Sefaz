<div class="">
  <h2>Registrar Empresa</h2>
  <hr>

  <form novalidate (ngSubmit)="onSubmit(newCompany)" [formGroup]="newCompany">

    <div class="row">
      <div class="form-group col-sm-6">
        <p class="descricao">TIPO DA EMPRESA</p>
        <ng-select formControlName="type" 
          [(ngModel)]="companyType"
          [items]="typesOnSelect" 
          [searchable]="false" 
          placeholder="Selecione um Tipo">
          <ng-template ng-label-tmp let-item="item">
            {{ item.label }}
          </ng-template>
          <ng-template ng-option-tmp let-item="item">
            <div>{{ item.label }}</div>
          </ng-template>
        </ng-select>
        
        <p class="requiredText" *ngIf="(newCompany.get('type').hasError('required') && newCompany.get('type').touched) 
          || (newCompany.get('type').hasError('required') && submitted)">Campo Obrigatório</p>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-sm-12 col-md-8">
        <p class="descricao">NOME DA EMPRESA</p>
        <input type="text" class="form-control" [(ngModel)]="name" placeholder="Digite o nome da empresa"
          formControlName="name" [ngClass]="{'required': (newCompany.get('name').hasError('required') && newCompany.get('name').touched)
                  || (newCompany.get('name').hasError('required') && submitted)}">

        <p class="requiredText" 
          *ngIf="(newCompany.get('name').hasError('required') && newCompany.get('name').touched)
            || (newCompany.get('name').hasError('required') && submitted)">
            Campo Obrigatório</p>
      </div>
    
      <div class="form-group col-sm-12 col-md-4">
        <p class="descricao">TELEFONE</p>
        <!-- <input type="text" class="form-control" [(ngModel)]="phone" placeholder="Digite o telefone" formControlName="phone"> -->
        <input [textMask]="{mask: maskTel}" class="form-control" [(ngModel)]="phone" type="text" formControlName="phone" placeholder="Telefone"
          [ngClass]="{'required': (newCompany.get('phone').hasError('required') && newCompany.get('phone').touched)
          || (newCompany.get('phone').hasError('required') && submitted)}"/>

        <p class="requiredText" 
          *ngIf="(newCompany.get('phone').hasError('required') && newCompany.get('phone').touched)
            || (newCompany.get('phone').hasError('required') && submitted)">
            Campo Obrigatório</p>
      </div>
    </div>

    <div class="row">
      <div class="form-group col-sm-12 col-md-6">
        <p class="descricao">CNPJ</p>
        <!-- <input type="text" class="form-control" [(ngModel)]="phone" placeholder="Digite o telefone" formControlName="phone"> -->
        <input class="form-control" [(ngModel)]="cnpj" type="text" formControlName="cnpj" placeholder="CNPJ"/>
      </div>
    </div>


    <div class="row" formGroupName="address">
      <div class="form-group col-sm-12 col-md-8">
        <p class="descricao">RUA</p>
        <input type="text" class="form-control" placeholder="Digite o nome da rua" formControlName="street"
          [ngClass]="{'required': (newCompany.get('address.street').hasError('required') && newCompany.get('address.street').touched)
          || (newCompany.get('address.street').hasError('required') && submitted)}">

        <p class="requiredText" 
        *ngIf="(newCompany.get('address.street').hasError('required') && newCompany.get('address.street').touched)
          || (newCompany.get('address.street').hasError('required') && submitted)">
          Campo Obrigatório</p>
      </div>
    
      <div class="form-group col-sm-12 col-md-4">
        <p class="descricao">CEP</p>
        <input [textMask]="{mask: maskCep}" type="text" class="form-control" [(ngModel)]="cep" placeholder="Digite o CEP" formControlName="cep"
          [ngClass]="{'required': (newCompany.get('address.cep').hasError('required') &&
          newCompany.get('address.cep').touched)
          || (newCompany.get('address.cep').hasError('required') && submitted)}">

        <p class="requiredText" 
          *ngIf="(newCompany.get('address.cep').hasError('required') && newCompany.get('address.cep').touched)
            || (newCompany.get('address.cep').hasError('required') && submitted)">
          Campo Obrigatório</p>
      </div>

    </div>

    <div class="row" formGroupName="address">
      <div class="form-group col-sm-6 col-md-6">
        <p class="descricao">CIDADE</p>
        <input type="text" class="form-control" [(ngModel)]="city" placeholder="Digite o cidade" formControlName="city"
          [ngClass]="{'required': (newCompany.get('address.city').hasError('required') &&
          newCompany.get('address.city').touched)
          || (newCompany.get('address.city').hasError('required') && submitted)}">

        <p class="requiredText" 
          *ngIf="(newCompany.get('address.city').hasError('required') && newCompany.get('address.city').touched)
            || (newCompany.get('address.city').hasError('required') && submitted)">
          Campo Obrigatório</p>
      </div>
    
      <div class="form-group col-sm-6 col-md-2">
        <p class="descricao">UF</p>
        <!-- <input [textMask]="{mask: maskUF}" type="text" class="form-control" [(ngModel)]="uf" formControlName="uf"> -->
        <input type="text" class="form-control" [(ngModel)]="uf" formControlName="uf" placeholder="UF"
          [ngClass]="{'required': (newCompany.get('address.uf').hasError('required') &&
          newCompany.get('address.uf').touched)
          || (newCompany.get('address.uf').hasError('required') && submitted)}">

        <p class="requiredText" 
          *ngIf="(newCompany.get('address.uf').hasError('required') && newCompany.get('address.uf').touched)
            || (newCompany.get('address.uf').hasError('required') && submitted)">
          Campo Obrigatório</p>
      </div>
    </div>

    <br />
    <div class="botoes">
      <button routerLink="/rc/cadastros/company" class="botaoVoltar">VOLTAR</button>
      <button type="submit" class="botaoRegistrar">REGISTRAR</button>
    </div>
    <br />
  </form>
</div>