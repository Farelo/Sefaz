<div *ngIf="!selectedSerial">
  <h2 class="tituloClaro">TEMPO DE PERMANÊNCIA</h2>
  <br />
  <br />
  <div class="table-responsive meuInventario">
    <table class="table">
      <thead>
        <tr class="cabecalho">
          <th>Equipamento</th>
          <th>Serial</th>
          <th>Projeto</th>
          <th>Planta Atual</th>
          <th>Local</th>
          <th>Tempo na Planta</th>
          <th>DUNS</th>
          <th>Fornecedor</th>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let packing of permanence.data | paginate: {
                                                            id:'permanence',
                                                            itemsPerPage: 10,
                                                            currentPage: permanence.meta.page,
                                                            totalItems: permanence.meta.total_docs}">
          <td>{{packing.code || '-'}}</td>
          <td>{{packing.serial || '-'}}</td>
          <td>{{packing.project?.name || '-'}}</td>
          <td>{{packing.actual_plant?.plant ? packing.actual_plant?.plant?.plant_name : (packing.missing ? "Embalagem Ausente"
            : "Embalagem em Viagem")}}</td>
          <td>{{packing.actual_plant?.local === 'Factory' ? 'Fábrica' : (packing.actual_plant?.local === 'Supplier' ? 'Fornecedor':
            (packing.actual_plant?.local === 'Logistic' ? 'Op. Logístico': 'Sem Registro'))}}</td>
          <td>{{packing.permanence?.amount_days >= 0 ? (packing.permanence?.amount_days | time) : 'Sem Registro'}}</td>
          <td>{{packing.supplier?.duns || '-'}}</td>
          <td>{{packing.supplier?.name || '-'}}</td>

        </tr>
      </tbody>
    </table>

    <div class="classVazio" *ngIf="permanence.data?.length < 1">
      Realize uma pesquisa valida.
    </div>
  </div>
  <div class="has-text-centered">
    <pagination-controls class="my-pagination" id="permanence" (pageChange)="permanence.meta.page = $event;permanenceInventory()"
      directionLinks="false" autoHide="true">
    </pagination-controls>
  </div>
</div>


<div *ngIf="selectedSerial">
  <h2 class="tituloClaro">TEMPO DE PERMANÊNCIA</h2>
  <br />
  <br />
  <div class="table-responsive meuInventario">
    <table class="table">
      <thead>
        <tr class="cabecalho">
          <th>Data de Entrada</th>
          <th>Horário de Entrada</th>
          <th>Duns</th>
          <th>Fornecedor</th>
          <th>Permaneceu na Planta </th>
          <th>Local</th>
          <th>Tempo na Planta</th>
          <th>Tempo de Referência BPline (Dias)</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let packing of permanence.data | paginate: {
                                                          id: 'permanenceHistoric',
                                                          itemsPerPage: 10,
                                                          currentPage: permanence.meta.page,
                                                          totalItems: permanence.meta.total_docs}">
          <td>{{packing.date | date: 'dd/MM/yyyy'}}</td>
          <td>{{packing.date | date:'mediumTime'}}</td>
          <td>{{packing.supplier?.duns || '-'}}</td>
          <td>{{packing.supplier?.name || '-'}}</td>
          <td>{{packing.status == 'NORMAL' || packing.status == undefined? packing.plant?.plant.plant_name : (packing.status
            == 'MISSING' ? 'Embalagem Ausente' : 'Embalagem Viajando') }}</td>
          <td>{{packing.plant?.local === 'Factory' ? 'Fábrica' : (packing.plant?.local === 'Supplier' ? 'Fornecedor': (packing.plant?.local
            === 'Logistic' ? 'Op. Logístico': 'Sem Registro'))}}</td>
          <td>{{packing.permanence_time >= 0 ? (packing.permanence_time | time) : 'Sem Registro'}}</td>
          <td>{{packing.actual_gc16?.days >= 0 ? packing.actual_gc16?.days : '-'}}</td>

        </tr>

      </tbody>


    </table>
    <div class="classVazio" *ngIf="permanence.data?.length < 1">
      Não existem embalagens cadastradas com essas credências.
    </div>
  </div>
  <div class="has-text-centered">
    <pagination-controls class="my-pagination" id="permanenceHistoric" (pageChange)="permanence.meta.page = $event;permanenceInventorySerial()"
      directionLinks="false" autoHide="true">
    </pagination-controls>
  </div>
</div>