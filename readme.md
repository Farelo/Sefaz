# Reciclapac (Embalagens Inteligentes)

 A RECICLAPAC é uma empresa especializada no desenvolvimento de tecnologias de embalagens para logística reversa otimizada, Embalagens Inteligentes através da gestão com uma plataforma inovadora de software com tecnologia de IoT e implementação de processos de Upcycling de embalagens logísticas (reúso).

___

# Tecnologias Utilizadas

![swagger](https://flowdocs.built.io/assets/bltb8fbfc830fdc1ec8/Swagger.png)         ![swagger](https://waderyan.gallerycdn.vsassets.io/extensions/waderyan/nodejs-extension-pack/0.1.9/1489174018413/Microsoft.VisualStudio.Services.Icons.Default)                    ![swagger](https://peterjausovec.gallerycdn.vsassets.io/extensions/peterjausovec/vscode-docker/0.0.26/1522457879331/Microsoft.VisualStudio.Services.Icons.Default)![swagger](data:image/jpeg;base64,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)      ![swagger](data:image/png;base64,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)
___

# Executando a instância do Cliente

Para executar a instância do cliente é necessário levantar o servidor (BACK-END), presente na pasta `smart-api`, pois o mesmo responsável por manipular e tratar os dados contidos na base de dados do MongoDB. O servidor apresenta uma RestFull API que irá forcener serviços em formato de rotas para que os sistemas possam consumir essas informações. Então para executar o servidor abra o terminar no diretório raiz e navega para o direotrio `smart-api`

```sh
$ cd smart-api
$ npm install
```
O comando `npm install` é utilizado para baixar todas as dependencias do projeto listadas na lista de dependências do `package.json`. Em seguida executa o comando:

```sh
$ npm run develop
```

Onde o mesmo irá executar o sistema em modo de desenvolvimento obtendo variveis que serão utilizadas apenas em modo de desenvolvimento. No console do terminal irá aparecer que o servidor esta executando em uma determinada porta, porém, pode ocorrer do sistema não conectar-se ao banco de dados do MongoDB. Na maioria das vezes isso se deve ao banco de dados do Mongo não esta executando, então é necessário abrir um terminal e executar o comando:
```sh
$ mongod
```
Esse comando executará o Banco de dado MongoDB e o sistema irá se conectar automaticamente ao banco de dados. O proximo passo será executar o sistema que irá consumir os serviços fornecidos pela RestFull API, então execute os seguintes comandos para acessar a pasta `smart-front`

```sh
$ cd ..
$ cd smart-front 
$ npm install
```

O comando `npm install` também é utilizado para baixar as dependencias do sistema (FRONT-END). Execute o comando :
```sh
$ ng server
```

Esse comando, fornecido pelo framework Angular CLI, é suficiente para executar o sistema.
___

# Executando a instância do Administrador Reciclapac

Essa instância serve apenas pra vizualizar os clientes que estão utilizando o reciclapac e ter acesso as instãncias desses clientes. Para executar essa instãncia pode-se utilizar os mesmos passos que foram citados na execução do cliente, pois, o que difere é apenas a nomenclatura das pastas, o que for `smart-api` trocar por `admin-api` e o que for `smart-front` trocar por `admin-front`.   

___

# Realizando Deploy do sistema

Para relaizar o Deploy do sistema é necessário editar o arquivo `docker-compose.prod.yaml`. Caso queira adicionar novas instâncias do sistema é necessário utiliza-lo:

```docker-compose

version: "2.0"
services:
  cliente-front:
    build:
      context: 'smart-front'   #local de acesso onde a imagem do docker será criada
      dockerfile: Dockerfile
      args: 
        baseurl: <URL>   #URL base de acesso a RestFull API 
        port: <PORTA>    #porta em que o sistema irá ser levantado
    container_name: cliente-front
    ports:
      - '<porta que será levantada a aplicação>:<porta real>'        #obrigratorio
  cliente-api: #finalizado 
    build:
      context: 'smart-api'
      dockerfile: Dockerfile
    command: npm start
    container_name: cliente-api
    environment:
      NODE_ENV: production       # variavel de ambiente que define que o sistema irá executar em produção
      HOST: <IP de acesso>               
      PORT: <PORTA>                    
      DATABASE: <nome da base de dados>         
      DATABASE_SERVICE: <nome do container do mongo>  
      # DNS: <DNS de acesso ao servidor> #necessário apenas se se o HOST e o IP não forem definidos              
    tty: true
    ports:
      - '<porta que será levantada a aplicação>:<porta real>'        #obrigratorio
    depends_on:
      - mongo
  mongo:
    image: 'mongo:latest'
    container_name: mongo
    ports:
      - '27017:27017'
    volumes:  #volume de compartilhamento da base de dados do container com o diretorio local
       - ./data/db:/data/db
       - ./data/backup:/data/backup
    networks: #definindo uma rede de IP fixo para o banco de dados utilizando o network do docker
      net-recicla:
        ipv4_address: 172.18.0.2
networks: #network criado para fixar o IP da base de dados do Mongo para acessa-lo remotamente
  net-recicla:
    driver: bridge
    ipam:
     config:
       - subnet: 172.18.0.0/16
         gateway: 172.18.0.1

```

Depois do arquivo ser configurado, executar o comando que irá gerar as imagens de cada uma das instãncias:


```sh
$ docker-compose -f docker-compose.prod.yaml build
```

Depois das imagens serem geradas, execute o comando que irá levantar os serviços que serão orquestrados pelo docker-compose:

```sh
$ docker-compose -f docker-compose.prod.yaml up -d
```
